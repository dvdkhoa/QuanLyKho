@page
@model QuanLyKho.Areas.Admin.Pages.Role.IndexModel
@{
    ViewData["title"] = "List roles";
    ViewData["PrimaryTitle"] = "Roles";
}

@section Styles {
    <link rel="stylesheet" href="~/admin/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="~/admin/plugins/datatables-responsive/css/responsive.bootstrap4.min.css">
    <link rel="stylesheet" href="~/admin/plugins/datatables-buttons/css/buttons.bootstrap4.min.css">

}

@await Html.PartialAsync("_StatusMessage", Model.StatusMessage)



<div class="card">
    <div class="card-header">
        <a asp-page="./Create">Add new role</a>
    </div>
    <!-- /.card-header -->
    <div class="card-body">
        <table id="table" class="table table-striped table-bordered text-center">
            <thead>
                <tr>
                    <th class="w-25">Id</th>
                    <th>Role name</th>
                    <th>Action</th>
                </tr>
            </thead>
            @foreach (var role in Model.Roles)
            {
                <tr>
                    <td>@role.Id</td>
                    <td>
                        <a asp-action="StaffInRoles" asp-controller="Staffs" asp-route-roleName="@role.Name">@role.Name</a>
                    </td>
                    <td class="d-flex justify-content-sm-center ">
                        <a class="btn btn-sm btn-secondary" asp-page="./Edit" asp-route-roleId="@role.Id"><i class="fas fa-tools"></i></a>

                        <a class="btn btn-sm btn-danger ml-2" asp-page="./Delete" asp-route-roleId="@role.Id"><i class="fas fa-trash"></i></a>

                    </td>
                </tr>
            }
        </table>
    </div>
</div>


@*<div class="row">
    <div class="col-2"></div>
    <div class="col-6">
        <h3>@ViewData["title"]</h3>

        <div>
            <a asp-page="./Create">Add new role</a>
        </div>

        <hr />
        
    </div>
    <div class="col-4"></div>
</div>*@

@section Scripts {

    <!-- DataTables  & Plugins -->
    <script src="~/admin/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="~/admin/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="~/admin/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/admin/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="~/admin/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/admin/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
    <script src="~/admin/plugins/jszip/jszip.min.js"></script>
    <script src="~/admin/plugins/pdfmake/pdfmake.min.js"></script>
    <script src="~/admin/plugins/pdfmake/vfs_fonts.js"></script>
    <script src="~/admin/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
    <script src="~/admin/plugins/datatables-buttons/js/buttons.print.min.js"></script>
    <script src="~/admin/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

    <script>
        var table = {}
        $(function () {
            table = $("#table").DataTable({
                "responsive": true, "lengthChange": false, "autoWidth": false,
            });

            table.buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');
        });

    </script>
    }
